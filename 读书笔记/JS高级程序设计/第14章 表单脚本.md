通过JavaScript选取的表单元素`<form>`是`HTMLFormElement`类型, 继承了`HTMLElement`. 因此`var form=document.querySelector('form')`活动的DOM元素对象有独有的属性和方法

- submit() 提交表单
- reset() 重置表单
- acceptCharset
- action
- elements
- enctype
- length
- method
- name
- target

**获取表单**

```html
<form method="post" name="form1" id="myForm1">
      <ul>
        <li><input type="radio" name="color" value="red">Red</li>
        <li><input type="radio" name="color" value="green">Green</li>
        <li><input type="radio" name="color" value="blue">Blue</li>
      </ul>
</form>
<form method="post" name="form2" id="myForm2">
      <ul>
        <li><input type="radio" name="color" value="red">Red</li>
        <li><input type="radio" name="color" value="green">Green</li>
        <li><input type="radio" name="color" value="blue">Blue</li>
      </ul>
</form>
<script>
	// 获取第一个表单的第一个表单字段
  	document.forms[0].elements[0];
  	// 获取name为form2的表单中name为color的表单字段
  	document.forms['form2'].element['color']
</script>
```

**提交表单**

```javascript
var form=document.querySelector('form');
form.submit();
```

注意

- 在调用此方法前先验证表单数据
- 防止用户重复提交表单
  - 解决办法一: 在第一次提交后就禁用提交按钮
  - 解决办法二: 利用onsubmit事件处理程序取消后续的表单提交操作

**重置表单**

第一种: 创建重置按钮

```html
<!-- 通用重置按钮 -->
<input type="reset" Value="Reset Form"/>
<!-- 自定义重置按钮 -->
<button type="reset">Reset Form</button>
```

第二种: 通过JavaScript触发重置表单事件

```javascript
var form=document.querySelector('form');
form.reset();
```

注意: 通过JavaScript意外的的触发重置表单事件, 有时候会让用户很恼火. 更常见的做法是提供一个取消按钮. 

**表单字段**

这里说的表单字段, 就是`<form>`表单元素里的各种`<input>`啦

通过JS获取`<form>`元素的对象会有一个elements的属性, 可以通过`<form>`元素的`name`属性可以获取对应的表单字段, 形如`formElement.elements['color']`

```html
<form method="post" id="myForm">
      <ul>
        <li><input type="radio" name="color" value="red">Red</li>
        <li><input type="radio" name="color" value="green">Green</li>
        <li><input type="radio" name="color" value="blue">Blue</li>
      </ul>
    </form>

    <script>
      var form = document.getElementById('myForm');
      var colorFields = form.elements['color'];
      colorFields[0]==form.elements[0];// true
    </script>
```

表单字段共有的属性如下:

- disabled
- form
- name
- readOnly
- tabIndex
- value

```javascript
var form = document.getElementById('myForm');
var field = form.element[0];
// 修改value属性
field.value = form.elements[0];
// 检查form属性的值, 表单字段的所在的表单是否是这个表单
alert(field.form === form);// true
// 禁用当前字段, 最好是在 submit 事件, 而不是 click 事件
field.disabled = true;
// 修改 type 属性(不推荐)
field.type = 'checkbox';
// 把焦点设置到当前字段
field.focus();
```

表单字段共有的方法如下

- focus()
- blur()

侦听页面的 loda 事件, 并在该事件发生时在第一个表单的第一个字段上调用 focus() 方法

```javascript
window.addEventListener('load', function(event){
  	document.forms[0].elements[0].focus();
});
```

表单字段共有的事件:

- blur
- change
- focus

检查 input 框是否是数字

```javascript
var input = document.getElementById('input');
      // keyup, 在发现非数值字符, input框背景颜色变为红色
      input.addEventListener('keyup',function(event){
        var target = event.target;
        if(/[^\d]/.test(target.value)){
          target.style.backgroundColor = 'red';
        }else{
          target.style.backgroundColor = '';
        }
      })
```

**`<input>`和`<textarea>`的区别**

`<input>`的特性: type size value maxlength

`<textarea>`的特性: rows cols value

**选择文本**

`inputElement.select()`记得`focus()`

让用户在 focus 文本框的时候选中文本, 让用户不必一个一个删除文本, 提升表单的易用性. 

- select事件

- 取得选择的文本(前提已经被select)

  ```javascript
  // 不兼容IE8
  inputEle.value.substring(inputEle.selectionStart, inputEle.selectionEnd)
  ```


- 选择部分文本(HTML5) 由于IE8的原因, 要实现跨浏览器编程 ,记得`focus()`

  ```javascript
  function selectText(textbox, startIndex, stopIndex){
    if(textbox.setSelectionRange){
    	textbox.setSelectionRange(startInde, stopIndex)
    }else{
    	var range = textbox.createTextRange();
      range.collapse(true);
      range.moveStart("character", startIndex);
      range.moveEnd("character", stopIndex - startIndex);
      range.select();
    }
    textbox.focus()
  }
  ```


### 过滤输入

**屏蔽字符**

屏蔽input内的所有按键操作

```javascript
input.addEventListener('keypress',function(event){
  event.preventDefault();
})
```

屏蔽 input 内特定字符

```javascript
// 值允许用户输入数值
inputElement.addEventListener('keypress',function(event){
  var target = event.target;
  var charCode = event.charCode;
  // String.fromCharCode(100), 返回字符编码(100)对应的字符(d)
  // charCode > 9 确保用户能够按下上下左右键退格键删除键
  // !event.ctrlKey 确保用户能够使用ctrl键
  if(!/\d/.test(String.fromCharCode(charCode)) && charCode > 9 && !event.ctrlKey){
  	event.preventDefault();
  }
})
```
**操作剪贴板**

六个剪贴板事件:

- beforecopy: 
- copy: 发生复制时触发
- beforecut
- cut: 发生剪切是触发
- beforepaste
- paste: 发生粘贴式触发

有了这些事件, 用户在执行这些操作的时候, 就能知道用户能干什么了. 也可以在用户执行这些操作的时候, 发送一些数据到页面上.

clipbpardDate 对象有三个方法:

- getData();
- setData();
- clearData();