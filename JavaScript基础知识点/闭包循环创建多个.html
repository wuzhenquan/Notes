<!DOCTYPE HTML>
<html>

<head>
    <meta charset="utf-8">
    <title>闭包例子</title>
</head>
<style type="text/css">

</style>

<body>
    <script type="text/javascript">
//        //这个函数(闭包)返回一个总是返回v的函数
//        function constfunc(v) {
//            return function () {
//                return v;
//            };
//        }
//        //创建一个数组来存储函数
//        var funcs = [];
//        for (var i = 0; i < 10; i++) funcs[i] = constfunc(i);
//        console.log(funcs[5]()); //=>5
        
        //错误的, 试图将循环代码移入定义这个闭包的函数之内
        function constfuncs() {
            var funcs = [];
            for (var i = 0; i < 10; i++) funcs[i] = function () {return i;};
            return funcs;
        }
        var funcs = constfuncs();
        alert(funcs[5]());
    </script>
</body>

</html>